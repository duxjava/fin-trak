# Управление группами в Fin-Trak

## Обзор

Система управления группами позволяет пользователям переключаться между группами, создавать новые группы, присоединяться к существующим и управлять дефолтной группой.

## Основные возможности

### 1. Селектор групп
- **Расположение**: В заголовке дашборда
- **Функции**:
  - Отображение текущей группы
  - Переключение между группами
  - Создание новых групп
  - Присоединение к группам по ID

### 2. Управление группами
- **Расположение**: В правой колонке дашборда
- **Функции**:
  - Просмотр всех групп пользователя
  - Установка дефолтной группы
  - Отображение ролей (администратор/участник)

### 3. Переключение между группами
- **URL параметры**: `/dashboard?group=groupId`
- **Автоматическое переключение**: При выборе группы в селекторе
- **Безопасность**: Пользователь видит только свои группы

## Как использовать

### Создание группы
1. Нажмите на селектор групп в заголовке
2. Выберите "Создать группу"
3. Введите название группы
4. Нажмите "Создать"

### Присоединение к группе
1. Нажмите на селектор групп в заголовке
2. Выберите "Присоединиться к группе"
3. Введите ID группы (получите от администратора)
4. Нажмите "Присоединиться"

### Переключение между группами
1. Нажмите на селектор групп в заголовке
2. Выберите нужную группу из списка
3. Страница автоматически обновится с данными выбранной группы

### Установка дефолтной группы
1. В разделе "Управление группами" найдите нужную группу
2. Нажмите "Сделать дефолтной" (только для администраторов)
3. Группа станет дефолтной для новых операций

## Технические детали

### Компоненты
- **GroupSelector** - селектор групп с модальными окнами
- **GroupManagement** - управление группами и установка дефолтной

### API Endpoints
- `POST /api/groups/create` - создание группы
- `POST /api/groups/join` - присоединение к группе
- `POST /api/groups/set-default` - установка дефолтной группы

### Серверные действия
- `createGroup()` - создание группы
- `joinGroup()` - присоединение к группе
- `setDefaultGroup()` - установка дефолтной группы
- `getGroupId()` - получение ID группы

## Безопасность

- Пользователи видят только свои группы
- Переключение между группами проверяется на принадлежность
- Только администраторы могут устанавливать дефолтную группу
- Все операции проверяются на сервере

## Преимущества

1. **Удобство** - простое переключение между группами
2. **Гибкость** - можно работать с несколькими группами
3. **Безопасность** - строгие проверки доступа
4. **Интуитивность** - понятный интерфейс управления
5. **Производительность** - загрузка данных только для текущей группы
