# Упрощенная система групп в Fin-Trak

## Обзор

Каждый пользователь автоматически получает дефолтную группу при регистрации. Все счета и транзакции привязываются к этой группе. Пользователи могут создавать дополнительные группы и приглашать других участников.

## Как это работает

### 1. Автоматическая дефолтная группа
- При регистрации пользователя автоматически создается группа "{Имя пользователя} - Личная группа"
- Пользователь становится администратором этой группы
- Все счета и транзакции по умолчанию создаются в этой группе

### 2. Создание дополнительных групп
- Пользователи могут создавать дополнительные группы для совместной работы
- Каждая группа имеет уникальный ID для приглашения участников
- Администратор группы может приглашать других пользователей

### 3. Присоединение к группам
- Пользователи могут присоединяться к группам по ID
- После присоединения они получают доступ к счетам и транзакциям группы

## Основные возможности

### Для всех пользователей:
- **Дефолтная группа** - автоматически создается при регистрации
- **Создание счетов** - все счета создаются в дефолтной группе
- **Создание транзакций** - все транзакции привязываются к дефолтной группе
- **Создание дополнительных групп** - для совместной работы
- **Присоединение к группам** - по ID группы

### Для администраторов групп:
- **Приглашение участников** - через ID группы
- **Управление группой** - создание и удаление групп

## Технические детали

### Схема базы данных:
- `groups` - группы с полем `isDefault` для дефолтных групп
- `group_members` - участники групп с ролями (admin/member)
- `accounts` - счета привязаны к группам через `groupId`
- `transactions` - транзакции привязаны к группам через `groupId`

### Автоматическое создание дефолтной группы:
- При регистрации пользователя вызывается `createDefaultGroup()`
- Создается группа с `isDefault: 'true'`
- Пользователь добавляется как администратор

### Привязка к группам:
- Все счета создаются в дефолтной группе пользователя
- Все транзакции создаются в дефолтной группе пользователя
- Пользователи видят только счета и транзакции из своих групп

## Преимущества упрощенной системы

1. **Простота** - пользователи сразу начинают работать без настройки
2. **Автоматизация** - дефолтная группа создается автоматически
3. **Гибкость** - можно создавать дополнительные группы для совместной работы
4. **Понятность** - все счета и транзакции привязаны к группам
5. **Масштабируемость** - легко добавлять новых участников в группы

## Миграция существующих данных

Все существующие счета и транзакции будут автоматически привязаны к дефолтным группам пользователей при применении миграции.
