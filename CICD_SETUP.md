# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD –¥–ª—è GitHub

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é CI/CD pipeline –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Personal Finance App.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/your-username/personal-finance-app.git
cd personal-finance-app

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pre-commit hooks (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
pip install pre-commit
pre-commit install

# –°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –∫–æ–º–º–∏—Ç —Å CI/CD –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
git add .
git commit -m "feat: –¥–æ–±–∞–≤–∏—Ç—å CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é"
git push origin main
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub

1. **–í–∫–ª—é—á–∏—Ç–µ GitHub Actions** –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí Environments
   - –°–æ–∑–¥–∞–π—Ç–µ `staging` –∏ `production` –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –î–æ–±–∞–≤—å—Ç–µ protection rules –¥–ª—è production

3. **–î–æ–±–∞–≤—å—Ç–µ Secrets** (Settings ‚Üí Secrets and variables ‚Üí Actions):
   ```
   DOCKERHUB_USERNAME      # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –¥–ª—è Docker Hub
   DOCKERHUB_TOKEN         # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –¥–ª—è Docker Hub
   SSH_PRIVATE_KEY         # –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
   DEPLOY_TOKEN           # –¥–ª—è webhook –¥–µ–ø–ª–æ—è
   ```

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Workflows

### –û—Å–Ω–æ–≤–Ω—ã–µ workflows:

1. **`ci.yml`** - –û—Å–Ω–æ–≤–Ω–æ–π CI/CD pipeline
2. **`deploy.yml`** - –î–µ–ø–ª–æ–π –Ω–∞ production/staging
3. **`pr-preview.yml`** - Preview –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è PR
4. **`release.yml`** - –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤
5. **`code-quality.yml`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
.github/
‚îú‚îÄ‚îÄ workflows/
‚îÇ   ‚îú‚îÄ‚îÄ ci.yml              # –û—Å–Ω–æ–≤–Ω–æ–π CI/CD
‚îÇ   ‚îú‚îÄ‚îÄ deploy.yml          # –î–µ–ø–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ pr-preview.yml      # PR Preview
‚îÇ   ‚îú‚îÄ‚îÄ release.yml         # –†–µ–ª–∏–∑—ã
‚îÇ   ‚îî‚îÄ‚îÄ code-quality.yml    # –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
‚îú‚îÄ‚îÄ dependabot.yml          # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ pull_request_template.md # –®–∞–±–ª–æ–Ω PR
‚îú‚îÄ‚îÄ ISSUE_TEMPLATE/
‚îÇ   ‚îú‚îÄ‚îÄ bug_report.md       # –®–∞–±–ª–æ–Ω –±–∞–≥—Ä–µ–ø–æ—Ä—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ feature_request.md  # –®–∞–±–ª–æ–Ω feature request
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è CI/CD
```

## üèó –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ CI/CD

### –ü—Ä–∏ Push –≤ main/develop:

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Backend**:
   - –ó–∞–ø—É—Å–∫ PostgreSQL –∏ Redis –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Go –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –õ–∏–Ω—Ç–∏–Ω–≥ —Å golangci-lint
   - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
   - –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Frontend**:
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - ESLint –ø—Ä–æ–≤–µ—Ä–∫–∏
   - TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∏
   - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –°–±–æ—Ä–∫–∞ production bundle

3. **Docker Build**:
   - –°–±–æ—Ä–∫–∞ backend –∏ frontend –æ–±—Ä–∞–∑–æ–≤
   - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ GitHub Container Registry
   - –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≤–µ—Ç–∫–µ –∏ SHA

4. **Security Scan**:
   - –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Docker –æ–±—Ä–∞–∑–æ–≤ –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ GitHub Security

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Pull Request:

1. –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑ CI
2. –°–æ–∑–¥–∞–Ω–∏–µ preview –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ PR —Å —Å—Å—ã–ª–∫–∞–º–∏
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ bundle
5. –ê–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Release (—Ç–µ–≥ v*):

1. –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
2. –°–æ–∑–¥–∞–Ω–∏–µ multi-arch Docker –æ–±—Ä–∞–∑–æ–≤
3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è changelog
4. –°–æ–∑–¥–∞–Ω–∏–µ GitHub Release —Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏
5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤ production

## üöÄ –î–µ–ø–ª–æ–π

### Staging (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)

–ö–∞–∂–¥—ã–π push –≤ `main` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ staging:

```bash
git checkout main
git merge feature-branch
git push origin main  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ staging
```

### Production (–ø–æ —Ç–µ–≥–∞–º)

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞
git tag v1.0.0
git push origin v1.0.0  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ production
```

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

```bash
# –ß–µ—Ä–µ–∑ GitHub Actions UI
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ Actions ‚Üí Deploy to Production
# 2. –ù–∞–∂–∞—Ç—å "Run workflow"
# 3. –í—ã–±—Ä–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
```

## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# Backend
cd backend
go mod download

# Frontend
cd frontend
npm install

# Pre-commit hooks
pip install pre-commit
pre-commit install
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# Go –ª–∏–Ω—Ç–∏–Ω–≥
cd backend && golangci-lint run

# Frontend –ª–∏–Ω—Ç–∏–Ω–≥
cd frontend && npm run lint

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
cd frontend && npm run format

# –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
pre-commit run --all-files
```

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞
docker-compose up -d

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã
cd backend && go test ./...
cd frontend && npm test
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### GitHub Actions

- **Actions tab**: –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –∑–∞–ø—É—Å–∫–æ–≤
- **Security tab**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Insights ‚Üí Dependency graph**: –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### Docker Images

- **Packages tab**: –í—Å–µ Docker –æ–±—Ä–∞–∑—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- –¢–µ–≥–∏ –∏ —Ä–∞–∑–º–µ—Ä—ã –æ–±—Ä–∞–∑–æ–≤

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Settings ‚Üí Notifications:
- Email –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Å–±–æ—Ä–∫–∞—Ö
- Slack/Teams –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- Mobile push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üêõ Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–¢–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç –Ω–∞ CI, –Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –ª–æ–∫–∞–ª—å–Ω–æ**:
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ Go/Node
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ë–î –¥–æ—Å—Ç—É–ø–Ω–∞
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   ```

2. **Docker build fails**:
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Dockerfile
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .dockerignore
   ```

3. **–î–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –∫–ª—é—á–∏
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   ```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ workflow
gh run list

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞
gh run view --log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –Ω–µ—É–¥–∞—á–Ω–æ–≥–æ workflow
gh run rerun <run-id>

# –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å act
act -j test
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Branch Protection Rules

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è main –≤–µ—Ç–∫–∏:

1. ‚úÖ Require pull request reviews before merging
2. ‚úÖ Require status checks to pass before merging
3. ‚úÖ Require branches to be up to date before merging
4. ‚úÖ Include administrators
5. ‚úÖ Allow force pushes (—Ç–æ–ª—å–∫–æ –¥–ª—è emergency fixes)

### Dependabot

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è:
- Go modules (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)
- NPM packages (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)
- Docker images (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, –≤—Ç–æ—Ä–Ω–∏–∫)
- GitHub Actions (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, —Å—Ä–µ–¥–∞)

### Code Quality Gates

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- Go: golangci-lint, go vet, tests, coverage
- Frontend: ESLint, TypeScript, Prettier, tests
- Docker: Hadolint, security scan
- General: —Ñ–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üéØ Best Practices

### –ö–æ–º–º–∏—Ç—ã

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ conventional commits
feat: –¥–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
fix: –∏—Å–ø—Ä–∞–≤–∏—Ç—å —É—Ç–µ—á–∫—É –ø–∞–º—è—Ç–∏ –≤ API
docs: –æ–±–Ω–æ–≤–∏—Ç—å README
ci: —É–ª—É—á—à–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å —Å–±–æ—Ä–∫–∏
```

### Pull Requests

1. –ù–µ–±–æ–ª—å—à–∏–µ, —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
3. –°–≤—è–∑–∞–Ω–Ω—ã–µ issues
4. –ì–æ—Ç–æ–≤—ã–π –∫ review –∫–æ–¥
5. –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

### –†–µ–ª–∏–∑—ã

1. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (SemVer)
2. –ü–æ–¥—Ä–æ–±–Ω—ã–π changelog
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging –ø–µ—Ä–µ–¥ production
4. Rollback –ø–ª–∞–Ω –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å secrets
2. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
4. Code review –¥–ª—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
5. –ü—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π